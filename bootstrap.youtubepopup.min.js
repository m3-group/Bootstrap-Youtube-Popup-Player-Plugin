/*!
 * Bootstrap YouTube Popup Player Plugin
 * http://lab.abhinayrathore.com/bootstrap-youtube/
 * https://github.com/abhinayrathore/Bootstrap-Youtube-Popup-Player-Plugin
 */
!function(a){function i(b){e.html(a.trim(b))}function j(a){f.html(a)}function k(){i(""),j("")}function l(a,b){d.css({width:a+2*g}),f.css({height:b+2*g,padding:0}),c.css({width:a+2*g})}function m(a,b){var c="//www.youtube.com/embed/"+a+"?rel=0&showsearch=0&autohide="+b.autohide;return c+="&autoplay="+b.autoplay+"&controls="+b.controls+"&fs="+b.fs+"&loop="+b.loop,c+="&showinfo="+b.showinfo+"&color="+b.color+"&theme="+b.theme,c+="&wmode=transparent",c+="&start="+b.start}function o(a,b,c){var d='<iframe title="YouTube video player" width="'+b+'" height="'+c+'" ';return d+='style="margin:0; padding:0; box-sizing:border-box; border:0; -webkit-border-radius:5px; -moz-border-radius:5px; border-radius:5px; margin:'+(g-1)+'px;" ',d+='src="'+a+'" frameborder="0" allowfullscreen seamless></iframe>'}function p(b){var c="https://gdata.youtube.com/feeds/api/videos/"+b+"?v=2&alt=json";a.ajax({url:c,dataType:"jsonp",cache:!0,success:function(a){i(a.entry.title.$t)}})}function q(a){var b=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/,c=a.match(b);return c&&11==c[2].length?c[2]:!1}var b=null,c=null,d=null,e=null,f=null,g=5,h={init:function(g){if(g=a.extend({},a.fn.YouTubeModal.defaults,g),null==b){b=a('<div class="modal fade '+g.cssClass+'" id="YouTubeModal" role="dialog" aria-hidden="true">');var h='<div class="modal-dialog" id="YouTubeModalDialog"><div class="modal-content" id="YouTubeModalContent"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title" id="YouTubeModalTitle"></h4></div><div class="modal-body" id="YouTubeModalBody"></div></div></div>';b.html(h).hide().appendTo("body"),c=a("#YouTubeModalDialog"),d=a("#YouTubeModalContent"),e=a("#YouTubeModalTitle"),f=a("#YouTubeModalBody"),b.modal({show:!1}).on("hide.bs.modal",k)}return this.each(function(){var c=a(this),d=c.data("YouTube"),e=null;if(c.data("options")){var e={};a.extend(e,c.data("options"),g)}else e=g;d||(c.data("YouTube",{target:c}),a(c).bind("click.YouTubeModal",function(){var d=e.youtubeId;""==a.trim(d)&&c.is("a")&&(d=q(c.attr("href"))),(""==a.trim(d)||d===!1)&&(d=c.attr(e.idAttribute));var f=a.trim(e.title);""==f&&(e.useYouTubeTitle?p(d):f=c.attr("title")),f&&i(f),l(e.width,e.height);var g=m(d,e),h=o(g,e.width,e.height);return j(h),b.modal("show"),!1}))})},destroy:function(){return this.each(function(){a(this).unbind(".YouTubeModal").removeData("YouTube")})}};a.fn.YouTubeModal=function(b){return h[b]?h[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on Bootstrap.YouTubeModal"),void 0):h.init.apply(this,arguments)},a.fn.YouTubeModal.defaults={youtubeId:"",title:"",useYouTubeTitle:!0,idAttribute:"rel",cssClass:"YouTubeModal",width:640,height:480,autohide:2,autoplay:0,color:"red",controls:1,fs:1,loop:0,showinfo:0,theme:"light"}}(jQuery);
